# 135. Authentication
- kubectl create serviceaccount sa1
- kubectl get serviceaccount

# 138. TLS Basics

- openssl genrsa -out my-bank.key 1024
- openssl rsa -in my-bank.key -pubout > mybank.pem

# 138. TLS Basics

@CERTIFICATE AUTHORITY (CA)
- openssl genrsa -out ca.key 2048 (Generate Keys)
- openssl req -new -key ca.key -subj "/CN=KUBERNETES-CA" -out ca.csr (Certificate Signing Request)
- openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt (Sign Certificate)

@ADMIN USER
- openssl genrsa -out admin.key 2048 (Generate Keys)
- openssl req -new -key admin.key -subj "/CN=kube-admin/O=system:masters" -out admin.csr (Certificate Signing Request)
- openssl x509 -req -in admin.csr -signkey ca.key -out ca.crt (Sign Certificate)

# 140. TLS in Kubernetes - Certificate Creation
@KUBE API SERVER
- openssl genrsa -out apiserver.key 2048
- openssl req -new -key apiserver.key -subj "/CN=kube-apiserver" -out apiserver.csr -config openssl.cnf
- openssl x509 -req -in apiserver.csr -CA ca.crt -CAkey ca.key -out apiserver.crt

# 141. View Certificate Details
- openssl x509 -in /etc/kubernetes/pli/apiserver.crt -text -noout
- journalctl -u etcd.service -l
- kubectl logs etcd-master
- docker ps -a 
- docker logs 92ldfj430

# 144. Certificates API

1. Create CertificateSigningRequest Object
2. Review Requests
3. Approve Requests
4. Share Certs to Users

- openssl genrsa -out jane.key 2048
- openssl req -new -key jane.key -subj "/CN=jane" -out jane.csr
- cat jane.csr | base64

- kubectl get csr
- kubectl certificate approve jane
- kubectl get csr jane -o yaml


